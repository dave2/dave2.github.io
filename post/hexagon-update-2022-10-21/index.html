<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Hexagon Update: Oh no | Loosely Coherent Ramblings</title><meta name=keywords content><meta name=description content="So I am now deep in the refactor well, and I&rsquo;m pretty sure I can eventually get myself out, but right now everything is broken until I get to the bottom of the well, and start digging my way up.
What triggered this was supporting roads. In the picture I posted on the last update there was a lovely road going through the gap in the forest. But there wasn&rsquo;t a gap there really."><meta name=author content><link rel=canonical href=https://dave2.github.io/post/hexagon-update-2022-10-21/><link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://dave2.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://dave2.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://dave2.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://dave2.github.io/apple-touch-icon.png><link rel=mask-icon href=https://dave2.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Hexagon Update: Oh no"><meta property="og:description" content="So I am now deep in the refactor well, and I&rsquo;m pretty sure I can eventually get myself out, but right now everything is broken until I get to the bottom of the well, and start digging my way up.
What triggered this was supporting roads. In the picture I posted on the last update there was a lovely road going through the gap in the forest. But there wasn&rsquo;t a gap there really."><meta property="og:type" content="article"><meta property="og:url" content="https://dave2.github.io/post/hexagon-update-2022-10-21/"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-10-21T15:14:39+13:00"><meta property="article:modified_time" content="2022-10-21T15:14:39+13:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Hexagon Update: Oh no"><meta name=twitter:description content="So I am now deep in the refactor well, and I&rsquo;m pretty sure I can eventually get myself out, but right now everything is broken until I get to the bottom of the well, and start digging my way up.
What triggered this was supporting roads. In the picture I posted on the last update there was a lovely road going through the gap in the forest. But there wasn&rsquo;t a gap there really."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://dave2.github.io/post/"},{"@type":"ListItem","position":2,"name":"Hexagon Update: Oh no","item":"https://dave2.github.io/post/hexagon-update-2022-10-21/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Hexagon Update: Oh no","name":"Hexagon Update: Oh no","description":"So I am now deep in the refactor well, and I\u0026rsquo;m pretty sure I can eventually get myself out, but right now everything is broken until I get to the bottom of the well, and start digging my way up.\nWhat triggered this was supporting roads. In the picture I posted on the last update there was a lovely road going through the gap in the forest. But there wasn\u0026rsquo;t a gap there really.","keywords":[],"articleBody":" So I am now deep in the refactor well, and I’m pretty sure I can eventually get myself out, but right now everything is broken until I get to the bottom of the well, and start digging my way up.\nWhat triggered this was supporting roads. In the picture I posted on the last update there was a lovely road going through the gap in the forest. But there wasn’t a gap there really.\nThe road pieces can be spawned on top of any tile, and that’s how it looks like it could be used, but then you can’t really use them on any tile which has other things on it. That is, it works on the plain flat tiles, but not say a forest tile. On a forest tile, you get a look of a road which has trees all over it.\nTo work around that did a quick hack to just force the tile to one of the plain flat ones when a road gets created on a tile that isn’t so well designed for roads. Thus, the picture of the road going through the gap in forest is really the road mowing down all the forest tiles in its way on the shortest bit of forest to cross.\nI didn’t really like that, a road piece that neatly weaved through a forest closely would be nicer. And nicer becomes “let’s refactor the entire world”.\nThe upside is the tiles will look better when done, and at the same time I have half an idea of how to manage water traversal as well. It’ll involve less objects in the world as well.\nI have progressively integrated the road pieces, in some cases recolouring them, into the base tiles and adjusted the decorations on those tiles to allow the road piece to fit in, and then collected it all into a new tile - original base tile plus road piece - so they can be spawned at once.\nThis is mostly some work in Blender, since the tiles are all easily messed with in Blender. Using Blender falls into that slightly annoying tool space where KiCAD lives in my head as well. It’s one of those tools where knowing the keyboard actions really matters and without that you will struggle to do anything quickly at all.\nAnyway, that bit is done, I have many more tiles than I had before, and the ugly code and metadata reorganisation has begun.\nI’ll surface in a few days to report why I shouldn’t have done this.\n","wordCount":"424","inLanguage":"en","datePublished":"2022-10-21T15:14:39+13:00","dateModified":"2022-10-21T15:14:39+13:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://dave2.github.io/post/hexagon-update-2022-10-21/"},"publisher":{"@type":"Organization","name":"Loosely Coherent Ramblings","logo":{"@type":"ImageObject","url":"https://dave2.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://dave2.github.io/ accesskey=h title="Loosely Coherent Ramblings (Alt + H)">Loosely Coherent Ramblings</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Hexagon Update: Oh no</h1><div class=post-meta><span title='2022-10-21 15:14:39 +1300 +1300'>October 21, 2022</span></div></header><div class=post-content><p><img loading=lazy src=this-is-fine.jpg alt="This is fine"></p><p>So I am now deep in the refactor well, and I&rsquo;m pretty sure I can
eventually get myself out, but right now everything is broken
until I get to the bottom of the well, and start digging my way
up.</p><p>What triggered this was supporting roads. In the picture I posted
on <a href=https://dave2.github.io/post/hexagon-update-2022-10-18/>the last update</a> there
was a lovely road going through the gap in the forest. But there
wasn&rsquo;t a gap there really.</p><p>The road pieces can be spawned on top of any tile, and that&rsquo;s how
it looks like it could be used, but then you can&rsquo;t really use them
on any tile which has other things on it. That is, it works on
the plain flat tiles, but not say a forest tile. On a forest tile,
you get a look of a road which has trees all over it.</p><p>To work around that did a quick hack to just force the tile to one
of the plain flat ones when a road gets created on a tile that isn&rsquo;t
so well designed for roads. Thus, the picture of the road going
through the gap in forest is really the road mowing down all the
forest tiles in its way on the shortest bit of forest to cross.</p><p>I didn&rsquo;t really like that, a road piece that neatly weaved through
a forest closely would be nicer. And nicer becomes &ldquo;let&rsquo;s refactor
the entire world&rdquo;.</p><p>The upside is the tiles will look better when done, and at the same
time I have half an idea of how to manage water traversal as well.
It&rsquo;ll involve less objects in the world as well.</p><p>I have progressively integrated the road pieces, in some cases
recolouring them, into the base tiles and adjusted the decorations
on those tiles to allow the road piece to fit in, and then collected
it all into a new tile - original base tile plus road piece - so
they can be spawned at once.</p><p>This is mostly some work in Blender, since the tiles are all easily
messed with in Blender. Using Blender falls into that slightly annoying
tool space where <a href=https://www.kicad.org/>KiCAD</a> lives in my head as well.
It&rsquo;s one of those tools where knowing the keyboard actions <em>really</em> matters
and without that you will struggle to do anything quickly at all.</p><p>Anyway, that bit is done, I have many more tiles than I had before,
and the ugly code and metadata reorganisation has begun.</p><p>I&rsquo;ll surface in a few days to report why I shouldn&rsquo;t have done this.</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://dave2.github.io/>Loosely Coherent Ramblings</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>